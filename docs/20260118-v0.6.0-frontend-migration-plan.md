# v0.6.0 フロントエンド移行実装計画書

## 概要

v0.5.2のフロントエンド（単一HTMLファイル実装）をVite+React+TypeScriptに移行し、コンポーネントの共通化とモジュール化を実現する。

**設計方針**: 今後、レビュアーと類似のアプリケーションを追加する可能性を考慮し、設定モーダルや共通機能を再利用可能な形で実装する。

## 現状分析

### 既存ファイル構成

```
versions/v0.5.2/frontend/
├── index.html                      # AIレビュアー（約1,800行）
└── config-file-generator/
    └── index.html                  # 設定ファイルジェネレーター（約860行）
```

### 共通要素の抽出

| 要素 | index.html | config-file-generator/index.html |
|------|------------|----------------------------------|
| ページレイアウト | max-w-4xl mx-auto p-6 | max-w-4xl mx-auto p-6 |
| ヘッダー | 白背景カード、タイトル、設定ボタン | 白背景カード、タイトル |
| カードスタイル | bg-white rounded-lg shadow-md p-6 mb-6 | bg-white rounded-lg shadow-md p-6 mb-6 |
| ボタンスタイル | bg-blue-500 hover:bg-blue-600 text-white | bg-blue-500 hover:bg-blue-600 text-white |
| CSSフレームワーク | Tailwind CSS (CDN) | Tailwind CSS (CDN) |
| フォーム要素 | input, textarea, select | input, textarea, radio |

### 機能別要素

#### AIレビュアー（index.html）
- バージョン選択機能
- 設定モーダル（API設定、変換ツール選択）
- ファイルアップロード（設計書Excel、プログラム）
- マークダウン変換・プレビュー
- システムプロンプト設定
- レビュー実行・結果表示
- ZIP出力機能

#### 設定ファイルジェネレーター（config-file-generator/index.html）
- スキーマ駆動のフォーム生成
- LLMプロバイダー切替（Anthropic/Bedrock/OpenAI）
- 動的配列フィールド
- テーブル形式入力（specTypes）
- セクション形式入力（systemPrompts）
- マークダウン設定ファイル出力

---

## 共通化設計

### 共通設定モーダル（SettingsModal）

今後の拡張性を考慮し、設定モーダルを共通コンポーネントとして実装する。
各アプリケーションはパラメータで表示内容をカスタマイズできる。

#### 共通設定モーダルの構成要素

| セクション | 説明 | 共通/個別 |
|------------|------|-----------|
| プログラム情報表示 | アプリ名、バージョン等の表示 | 共通（パラメータで内容変更） |
| 設定ファイルアップロード/保存 | 設定ファイルの読み込み・保存 | 共通 |
| LLM設定 | プロバイダー選択、API設定、モデル選択 | 共通 |
| プロンプトプリセット管理 | システムプロンプトのプリセット選択・編集 | 共通 |
| 設計書種別設定 | 設計書の種別と注意事項の管理 | 個別（reviewer feature）|

#### 拡張ポイント（Extension Points）

設定モーダルは以下の拡張ポイントを提供し、各アプリケーションが独自のセクションを追加できる：

```typescript
interface SettingsModalProps {
  // 基本設定
  appInfo: AppInfo;

  // 表示するセクションの制御
  sections: {
    programInfo?: boolean;      // プログラム情報（デフォルト: true）
    configFile?: boolean;       // 設定ファイル（デフォルト: true）
    llmSettings?: boolean;      // LLM設定（デフォルト: true）
    promptPresets?: boolean;    // プロンプトプリセット（デフォルト: true）
  };

  // 拡張セクション（各アプリケーション固有）
  extensionSections?: React.ReactNode[];

  // コールバック
  onSave: (settings: Settings) => void;
  onClose: () => void;
}
```

### 画面切り替え管理（ScreenManager）

各アプリケーションは最大3つの画面状態を持ち、ステート管理による条件付きレンダリングで切り替える。
URLは変更せず、同一ページ内の状態遷移として扱う。

#### 画面状態

| 状態 | 説明 | 使用例 |
|------|------|--------|
| `main` | メイン画面（入力・設定） | 全アプリで使用 |
| `executing` | 実行中画面（処理中表示） | レビュアー等で使用 |
| `result` | 結果画面（出力表示） | レビュアー等で使用 |

#### 実装方針

```typescript
// 画面状態の型定義
type ScreenState = 'main' | 'executing' | 'result';

// useScreenManager フック
interface UseScreenManagerReturn {
  currentScreen: ScreenState;
  showMain: () => void;
  showExecuting: () => void;
  showResult: () => void;
}

// ScreenContainer コンポーネント
interface ScreenContainerProps {
  currentScreen: ScreenState;
  mainScreen: React.ReactNode;
  executingScreen?: React.ReactNode;  // オプション（設定ファイルジェネレーター等では不要）
  resultScreen?: React.ReactNode;     // オプション
}
```

#### アプリケーション別の画面使用

| アプリケーション | main | executing | result |
|------------------|------|-----------|--------|
| AIレビュアー | ○ | ○ | ○ |
| 設定ファイルジェネレーター | ○ | - | - |
| 今後追加予定のアプリ | ○ | ○ | ○ |

### その他の共通コンポーネント

| コンポーネント | 説明 |
|----------------|------|
| TokenEstimator | 推定トークン数の表示 |
| SystemPromptEditor | システムプロンプトの編集UI |

---

## 実装フェーズ

### Phase 1: 環境構築

**目的**: Vite+React+TypeScript環境のセットアップ

**作業内容**:
1. Viteプロジェクト初期化
   ```bash
   cd versions/v0.6.0/frontend
   npm create vite@latest . -- --template react-ts
   ```
2. 依存関係インストール
   - React Router（ページルーティング）
   - Tailwind CSS
   - JSZip（ZIP生成）
3. ディレクトリ構造作成
4. Tailwind CSS設定
5. TypeScript設定調整

**成果物**:
```
versions/v0.6.0/frontend/
├── src/
│   ├── core/
│   ├── features/
│   ├── pages/
│   ├── App.tsx
│   └── main.tsx
├── index.html
├── package.json
├── vite.config.ts
├── tsconfig.json
└── tailwind.config.js
```

**試験項目**:
- [ ] `npm run dev` でVite開発サーバーが起動すること
- [ ] `npm run build` でビルドが成功すること
- [ ] Tailwind CSSのスタイルが適用されること
- [ ] TypeScriptのコンパイルエラーがないこと

---

### Phase 2: Coreコンポーネント実装

**目的**: 共通UIコンポーネントおよび共通機能コンポーネントの実装

**作業内容**:

#### 2-1. 基本UIコンポーネント

1. Layout コンポーネント
   - 最大幅制限（max-w-4xl）
   - パディング設定
   - 背景色

2. Header コンポーネント
   - タイトル表示
   - バージョン表示（オプション）
   - 設定ボタン（オプション）
   - サブタイトル/説明文

3. Card コンポーネント
   - 白背景
   - 角丸、シャドウ
   - パディング、マージン

4. Button コンポーネント
   - Primary（青）
   - Secondary（グレー）
   - Danger（赤）
   - disabled状態対応

5. FileInputButton コンポーネント
   - ボタンクリックでファイル選択
   - 選択ファイル名表示
   - accept, multiple対応

6. FileDropzone コンポーネント
   - ドラッグ&ドロップ対応
   - クリックでもファイル選択可能
   - accept対応

7. Modal コンポーネント
   - オーバーレイ
   - 閉じるボタン
   - タイトル、コンテンツ領域

※ TextInput, TextArea, Select, RadioGroup等の基本フォーム要素はTailwind CSSを直接使用

#### 2-2. 共有機能コンポーネント（shared）

8. SettingsModal コンポーネント（共通設定モーダル）
   - プログラム情報表示セクション
   - 設定ファイルアップロード/保存セクション
   - LLM設定セクション（プロバイダー選択、API設定、モデル選択）
   - プロンプトプリセット管理セクション
   - 拡張セクション用スロット

9. TokenEstimator コンポーネント
   - 推定トークン数の計算・表示
   - 入力テキストの監視

10. SystemPromptEditor コンポーネント
    - プリセット選択
    - 役割、目的、出力形式、注意事項の編集
    - プレビュー機能

11. ScreenContainer コンポーネント（画面切り替え管理）
    - main/executing/result の3画面を条件付きレンダリング
    - executing/result はオプション（設定ファイルジェネレーター等では不要）

**成果物**:
```
src/core/
├── components/
│   ├── ui/                           # 基本UIコンポーネント
│   │   ├── Layout.tsx
│   │   ├── Header.tsx
│   │   ├── Card.tsx
│   │   ├── Button.tsx
│   │   ├── Modal.tsx
│   │   ├── FileInputButton.tsx
│   │   └── FileDropzone.tsx
│   │
│   └── shared/                      # 共有機能コンポーネント
│       ├── SettingsModal/
│       │   ├── SettingsModal.tsx
│       │   ├── ProgramInfoSection.tsx
│       │   ├── ConfigFileSection.tsx
│       │   ├── LlmSettingsSection.tsx
│       │   └── PromptPresetsSection.tsx
│       ├── ScreenContainer.tsx
│       ├── TokenEstimator.tsx
│       └── SystemPromptEditor.tsx
│
├── hooks/
│   ├── useModal.ts
│   ├── useScreenManager.ts
│   ├── useSettings.ts
│   └── useTokenEstimation.ts
├── types/
│   └── index.ts
└── index.ts
```

**試験項目**:
- [ ] Layoutコンポーネントが正しくレンダリングされること
- [ ] Headerコンポーネントがタイトル、設定ボタンを表示すること
- [ ] Cardコンポーネントが正しいスタイルで表示されること
- [ ] Buttonコンポーネントの各バリアント（Primary/Secondary/Danger）が正しく表示されること
- [ ] Buttonのdisabled状態が視覚的に反映されること
- [ ] FileInputButtonでファイル選択ができること
- [ ] FileDropzoneでドラッグ&ドロップができること
- [ ] Modalの開閉が正しく動作すること
- [ ] SettingsModalが開閉できること
- [ ] SettingsModalで各セクションの表示/非表示が制御できること
- [ ] SettingsModalに拡張セクションを追加できること
- [ ] ScreenContainerで画面切り替えが正しく動作すること
- [ ] TokenEstimatorが推定トークン数を表示すること
- [ ] SystemPromptEditorでプリセット選択・編集ができること

---

### Phase 3: AIレビュアー機能実装

**目的**: AIレビュアー（メインアプリ）の機能をReactで再実装

**作業内容**:

#### 3-1. 状態管理
- アプリケーション状態の型定義
- Context/useState による状態管理

#### 3-2. 設定機能（共通SettingsModalの拡張）
- 設計書種別設定セクション（SettingsModalの拡張セクションとして実装）
- 変換ツール選択

#### 3-3. ファイルアップロード機能
- 設計書（Excel）アップロード
- プログラムファイルアップロード
- ファイル優先度設定
- 設計書種別選択

#### 3-4. 変換機能
- Excel→マークダウン変換（API呼び出し）
- 行番号付与変換（API呼び出し）
- 変換結果プレビュー

#### 3-5. レビュー実行
- API呼び出し
- ストリーミングレスポンス表示
- エラーハンドリング

#### 3-6. 結果出力
- マークダウン表示
- ZIP出力機能

**成果物**:
```
src/features/reviewer/
├── components/
│   ├── VersionSelector.tsx
│   ├── SpecTypesSection.tsx          # 設計書種別設定（SettingsModal拡張用）
│   ├── ConversionToolSelector.tsx    # 変換ツール選択（SettingsModal拡張用）
│   ├── FileUploader.tsx
│   ├── SpecFileList.tsx
│   ├── CodeFileList.tsx
│   ├── ConversionPreview.tsx
│   ├── ReviewRunner.tsx
│   └── ReviewResult.tsx
├── hooks/
│   ├── useReviewerState.ts
│   ├── useReviewerSettings.ts        # 共通設定 + reviewer固有設定の統合
│   ├── useFileConversion.ts
│   ├── useReviewExecution.ts
│   └── useZipExport.ts
├── services/
│   ├── api.ts
│   └── markdown.ts
├── types/
│   └── index.ts
└── index.tsx
```

**試験項目**:
- [ ] 設定モーダルが開閉できること
- [ ] 設定モーダルに設計書種別セクションが表示されること
- [ ] API URL、モデル選択が保存されること
- [ ] Excelファイルをアップロードできること
- [ ] 複数の設計書ファイルの優先度を設定できること
- [ ] 設計書種別を選択できること
- [ ] プログラムファイルをアップロードできること
- [ ] マークダウン変換が実行できること
- [ ] 変換結果がプレビュー表示されること
- [ ] 推定トークン数が表示されること
- [ ] システムプロンプトのプリセットを選択できること
- [ ] システムプロンプトの各項目を編集できること
- [ ] レビューが実行できること
- [ ] レビュー結果がストリーミング表示されること
- [ ] ZIP出力が正常に動作すること

---

### Phase 4: 設定ファイルジェネレーター機能実装

**目的**: 設定ファイルジェネレーターをReactで再実装

**作業内容**:

#### 4-1. スキーマ定義
- TypeScript型定義
- スキーマオブジェクトの移植

#### 4-2. 状態管理
- フォーム状態管理
- プロバイダー切替ロジック

#### 4-3. フォームコンポーネント
- infoセクション（固定値、自動生成）
- LLMセクション（プロバイダー選択、動的フィールド）
- specTypesセクション（テーブル形式）
- systemPromptsセクション（セクション形式）

#### 4-4. バリデーション
- 必須項目チェック
- 数値範囲チェック

#### 4-5. マークダウン生成・出力
- 各セクションのマークダウン生成
- ファイルダウンロード

**成果物**:
```
src/features/config-generator/
├── components/
│   ├── InfoSection.tsx
│   ├── LlmSection.tsx
│   ├── ProviderSelector.tsx
│   ├── DynamicFieldArray.tsx
│   ├── SpecTypesTable.tsx
│   ├── SystemPromptsSection.tsx
│   └── DownloadButton.tsx
├── hooks/
│   ├── useConfigState.ts
│   └── useValidation.ts
├── services/
│   └── markdownGenerator.ts
├── schema/
│   └── configSchema.ts
├── types/
│   └── index.ts
└── index.tsx
```

**試験項目**:
- [ ] infoセクションが固定値と自動生成値を表示すること
- [ ] LLMプロバイダーを切り替えられること
- [ ] プロバイダー切替時にフィールドが動的に変更されること
- [ ] Bedrockプロバイダー選択時に注意事項が表示されること
- [ ] API Key等の必須項目が未入力の場合エラーが表示されること
- [ ] モデル配列に項目を追加・削除できること
- [ ] specTypesテーブルに行を追加・削除できること
- [ ] systemPromptsセクションを追加・削除できること
- [ ] systemPromptsセクションの折りたたみが動作すること
- [ ] ダウンロードボタンで設定ファイル（.md）がダウンロードされること
- [ ] 生成されたマークダウンが正しいフォーマットであること

---

### Phase 5: ルーティング・統合

**目的**: 両機能の統合とルーティング設定

**作業内容**:
1. React Routerセットアップ
2. ページコンポーネント作成
3. ナビゲーション実装
4. 404ページ

**成果物**:
```
src/
├── pages/
│   ├── ReviewerPage.tsx
│   ├── ConfigGeneratorPage.tsx
│   └── NotFoundPage.tsx
├── App.tsx
└── main.tsx
```

**ルーティング設計**:
| パス | ページ |
|------|--------|
| `/` | AIレビュアー |
| `/config-generator` | 設定ファイルジェネレーター |
| `*` | 404 Not Found |

**試験項目**:
- [ ] `/` でAIレビュアーページが表示されること
- [ ] `/config-generator` で設定ファイルジェネレーターページが表示されること
- [ ] 存在しないパスで404ページが表示されること
- [ ] ページ間のナビゲーションが正しく動作すること

---

### Phase 6: テスト・最終調整

**目的**: 品質確保と最終調整

**作業内容**:
1. 単体テスト作成（Vitest）
2. E2Eテスト作成（Playwright/Cypress）
3. パフォーマンス最適化
4. アクセシビリティ対応
5. ドキュメント整備

**成果物**:
```
src/
├── __tests__/
│   ├── core/
│   ├── features/
│   └── pages/
e2e/
├── reviewer.spec.ts
└── config-generator.spec.ts
```

**試験項目**:
- [ ] 全ての単体テストがパスすること
- [ ] E2Eテストがパスすること
- [ ] Lighthouseスコアが良好であること（パフォーマンス、アクセシビリティ）
- [ ] 既存のv0.5.2と同等の機能が動作すること

---

## 技術スタック

| カテゴリ | 技術 | バージョン（目安） |
|----------|------|------------------|
| フレームワーク | React | 18.x |
| ビルドツール | Vite | 5.x |
| 言語 | TypeScript | 5.x |
| CSSフレームワーク | Tailwind CSS | 3.x |
| ルーティング | React Router | 6.x |
| ZIP生成 | JSZip | 3.x |
| テスト | Vitest | 1.x |
| E2Eテスト | Playwright | 1.x |

---

## ディレクトリ構造（最終形）

```
versions/v0.6.0/frontend/
├── src/
│   ├── core/                              # 共通コンポーネント
│   │   ├── components/
│   │   │   ├── ui/                        # 基本UIコンポーネント
│   │   │   │   ├── Layout.tsx
│   │   │   │   ├── Header.tsx
│   │   │   │   ├── Card.tsx
│   │   │   │   ├── Button.tsx
│   │   │   │   ├── Modal.tsx
│   │   │   │   ├── FileInputButton.tsx
│   │   │   │   └── FileDropzone.tsx
│   │   │   │
│   │   │   └── shared/                   # 共有機能コンポーネント
│   │   │       ├── SettingsModal/
│   │   │       │   ├── SettingsModal.tsx
│   │   │       │   ├── ProgramInfoSection.tsx
│   │   │       │   ├── ConfigFileSection.tsx
│   │   │       │   ├── LlmSettingsSection.tsx
│   │   │       │   └── PromptPresetsSection.tsx
│   │   │       ├── ScreenContainer.tsx
│   │   │       ├── TokenEstimator.tsx
│   │   │       └── SystemPromptEditor.tsx
│   │   │
│   │   ├── hooks/
│   │   │   ├── useModal.ts
│   │   │   ├── useScreenManager.ts
│   │   │   ├── useSettings.ts
│   │   │   └── useTokenEstimation.ts
│   │   ├── types/
│   │   │   └── index.ts
│   │   └── index.ts
│   │
│   ├── features/                          # 機能別モジュール
│   │   ├── reviewer/                      # AIレビュアー
│   │   │   ├── components/
│   │   │   │   ├── VersionSelector.tsx
│   │   │   │   ├── SpecTypesSection.tsx   # 設定モーダル拡張用
│   │   │   │   ├── ConversionToolSelector.tsx
│   │   │   │   ├── FileUploader.tsx
│   │   │   │   ├── SpecFileList.tsx
│   │   │   │   ├── CodeFileList.tsx
│   │   │   │   ├── ConversionPreview.tsx
│   │   │   │   ├── ReviewRunner.tsx
│   │   │   │   └── ReviewResult.tsx
│   │   │   ├── hooks/
│   │   │   │   ├── useReviewerState.ts
│   │   │   │   ├── useReviewerSettings.ts
│   │   │   │   ├── useFileConversion.ts
│   │   │   │   ├── useReviewExecution.ts
│   │   │   │   └── useZipExport.ts
│   │   │   ├── services/
│   │   │   │   ├── api.ts
│   │   │   │   └── markdown.ts
│   │   │   ├── types/
│   │   │   │   └── index.ts
│   │   │   └── index.tsx
│   │   │
│   │   └── config-generator/              # 設定ファイルジェネレーター
│   │       ├── components/
│   │       │   ├── InfoSection.tsx
│   │       │   ├── LlmSection.tsx
│   │       │   ├── ProviderSelector.tsx
│   │       │   ├── DynamicFieldArray.tsx
│   │       │   ├── SpecTypesTable.tsx
│   │       │   ├── SystemPromptsSection.tsx
│   │       │   └── DownloadButton.tsx
│   │       ├── hooks/
│   │       │   ├── useConfigState.ts
│   │       │   └── useValidation.ts
│   │       ├── services/
│   │       │   └── markdownGenerator.ts
│   │       ├── schema/
│   │       │   └── configSchema.ts
│   │       ├── types/
│   │       │   └── index.ts
│   │       └── index.tsx
│   │
│   ├── pages/                             # ページコンポーネント
│   │   ├── ReviewerPage.tsx
│   │   ├── ConfigGeneratorPage.tsx
│   │   └── NotFoundPage.tsx
│   │
│   ├── __tests__/                         # テスト
│   │   ├── core/
│   │   ├── features/
│   │   └── pages/
│   │
│   ├── App.tsx
│   └── main.tsx
│
├── e2e/                                   # E2Eテスト
│   ├── reviewer.spec.ts
│   └── config-generator.spec.ts
│
├── public/
├── index.html
├── package.json
├── vite.config.ts
├── tsconfig.json
├── tailwind.config.js
└── README.md
```

---

## 試験項目一覧

### 環境・ビルド

| ID | 項目 | Phase |
|----|------|-------|
| E-01 | `npm run dev` でVite開発サーバーが起動すること | 1 |
| E-02 | `npm run build` でビルドが成功すること | 1 |
| E-03 | Tailwind CSSのスタイルが適用されること | 1 |
| E-04 | TypeScriptのコンパイルエラーがないこと | 1 |

### Coreコンポーネント（基本UI）

| ID | 項目 | Phase |
|----|------|-------|
| C-01 | Layoutコンポーネントが正しくレンダリングされること | 2 |
| C-02 | Headerコンポーネントがタイトル、設定ボタンを表示すること | 2 |
| C-03 | Cardコンポーネントが正しいスタイルで表示されること | 2 |
| C-04 | Buttonコンポーネントの各バリアント（Primary/Secondary/Danger）が正しく表示されること | 2 |
| C-05 | Buttonのdisabled状態が視覚的に反映されること | 2 |
| C-06 | FileInputButtonでファイル選択ができること | 2 |
| C-07 | FileDropzoneでドラッグ&ドロップができること | 2 |
| C-08 | Modalの開閉が正しく動作すること | 2 |

### Coreコンポーネント（shared）

| ID | 項目 | Phase |
|----|------|-------|
| C-09 | SettingsModalが開閉できること | 2 |
| C-10 | SettingsModalで各セクションの表示/非表示が制御できること | 2 |
| C-11 | SettingsModalに拡張セクションを追加できること | 2 |
| C-12 | ProgramInfoSectionがパラメータに応じた情報を表示すること | 2 |
| C-13 | ConfigFileSectionで設定ファイルのアップロード/保存ができること | 2 |
| C-14 | LlmSettingsSectionでプロバイダー選択・API設定ができること | 2 |
| C-15 | PromptPresetsSectionでプリセット管理ができること | 2 |
| C-16 | ScreenContainerでmain画面が表示されること | 2 |
| C-17 | ScreenContainerでexecuting画面に切り替わること | 2 |
| C-18 | ScreenContainerでresult画面に切り替わること | 2 |
| C-19 | TokenEstimatorが推定トークン数を表示すること | 2 |
| C-20 | SystemPromptEditorでプリセット選択・編集ができること | 2 |

### AIレビュアー機能

| ID | 項目 | Phase |
|----|------|-------|
| R-01 | 設定モーダルが開閉できること | 3 |
| R-02 | 設定モーダルに設計書種別セクションが表示されること | 3 |
| R-03 | API URL、モデル選択が保存されること | 3 |
| R-04 | Excelファイルをアップロードできること | 3 |
| R-05 | 複数の設計書ファイルの優先度を設定できること | 3 |
| R-06 | 設計書種別を選択できること | 3 |
| R-07 | プログラムファイルをアップロードできること | 3 |
| R-08 | マークダウン変換が実行できること | 3 |
| R-09 | 変換結果がプレビュー表示されること | 3 |
| R-10 | 推定トークン数が表示されること | 3 |
| R-11 | システムプロンプトのプリセットを選択できること | 3 |
| R-12 | システムプロンプトの各項目を編集できること | 3 |
| R-13 | レビューが実行できること | 3 |
| R-14 | レビュー結果がストリーミング表示されること | 3 |
| R-15 | ZIP出力が正常に動作すること | 3 |

### 設定ファイルジェネレーター機能

| ID | 項目 | Phase |
|----|------|-------|
| G-01 | infoセクションが固定値と自動生成値を表示すること | 4 |
| G-02 | LLMプロバイダーを切り替えられること | 4 |
| G-03 | プロバイダー切替時にフィールドが動的に変更されること | 4 |
| G-04 | Bedrockプロバイダー選択時に注意事項が表示されること | 4 |
| G-05 | API Key等の必須項目が未入力の場合エラーが表示されること | 4 |
| G-06 | モデル配列に項目を追加・削除できること | 4 |
| G-07 | specTypesテーブルに行を追加・削除できること | 4 |
| G-08 | systemPromptsセクションを追加・削除できること | 4 |
| G-09 | systemPromptsセクションの折りたたみが動作すること | 4 |
| G-10 | ダウンロードボタンで設定ファイル（.md）がダウンロードされること | 4 |
| G-11 | 生成されたマークダウンが正しいフォーマットであること | 4 |

### ルーティング・統合

| ID | 項目 | Phase |
|----|------|-------|
| I-01 | `/` でAIレビュアーページが表示されること | 5 |
| I-02 | `/config-generator` で設定ファイルジェネレーターページが表示されること | 5 |
| I-03 | 存在しないパスで404ページが表示されること | 5 |
| I-04 | ページ間のナビゲーションが正しく動作すること | 5 |

### 品質

| ID | 項目 | Phase |
|----|------|-------|
| Q-01 | 全ての単体テストがパスすること | 6 |
| Q-02 | E2Eテストがパスすること | 6 |
| Q-03 | Lighthouseスコアが良好であること | 6 |
| Q-04 | 既存のv0.5.2と同等の機能が動作すること | 6 |

---

## 関連リソース

- GitHub Issue: https://github.com/elvezjp/spec-code-ai-reviewer/issues/11
- v0.5.2 フロントエンドコード: `versions/v0.5.2/frontend/`

---

## 更新履歴

| 日付 | 内容 |
|------|------|
| 2026-01-18 | 初版作成 |
| 2026-01-18 | 共通化設計を追加（SettingsModal、TokenEstimator、SystemPromptEditor）、ディレクトリ構造を見直し |
| 2026-01-18 | 画面切り替え管理（ScreenManager/ScreenContainer）を追加、loading→executingに名称変更 |
| 2026-01-18 | フォーム要素を簡素化（FileInputButton、FileDropzoneのみ共通化、他はTailwind CSS直接使用） |
| 2026-01-18 | core/components/features → core/components/shared に名称変更 |
