# 試験項目表

**試験日時:** 2026-01-18 14:00
**試験環境:** 開発
**対象バージョン:** v0.6.0

---

## 13.3.1 変換機能テスト

| # | 試験項目 | 前提条件 | 操作手順 | 期待結果 | 結果 |
|---|---------|---------|---------|---------|------|
| E2E-CV-001 | Excel→Markdown変換（MarkItDown、単一ファイル） | サーバー起動済み | 1. Excelファイルを選択 2. ツール「MarkItDown」を選択 3. 変換ボタン押下 | Markdown形式で表示、ステータス「変換済み」 | OK |
| E2E-CV-002 | Excel→Markdown変換（MarkItDown、複数ファイル） | サーバー起動済み | 1. 複数Excelを選択 2. ツール「MarkItDown」を選択 3. 変換ボタン押下 | 各ファイルが見出し付きで連結表示 | OK |
| E2E-CV-002a | Excel→Markdown変換（excel2md (CSV)、単一ファイル） | サーバー起動済み | 1. Excelファイルを選択 2. ツール「excel2md (CSV)」を選択 3. 変換ボタン押下 | CSVマークダウン形式で表示、概要セクションあり、検証用メタデータなし | OK |
| E2E-CV-002b | Excel→Markdown変換（excel2md (CSV)、複数ファイル） | サーバー起動済み | 1. 複数Excelを選択 2. ツール「excel2md (CSV)」を選択 3. 変換ボタン押下 | 各ファイルがCSVマークダウン形式で連結表示 | OK |
| E2E-CV-002c | Excel→Markdown変換（excel2md (CSV+Mermaid)、単一ファイル） | サーバー起動済み | 1. シェイプ付きExcelファイルを選択 2. ツール「excel2md (CSV+Mermaid)」を選択 3. 変換ボタン押下 | CSVマークダウン形式 + Mermaidフローチャートで表示 | OK |
| E2E-CV-002d | Excel→Markdown変換（excel2md (CSV+Mermaid)、複数ファイル） | サーバー起動済み | 1. 複数Excelを選択 2. ツール「excel2md (CSV+Mermaid)」を選択 3. 変換ボタン押下 | 各ファイルがCSVマークダウン + Mermaid形式で連結表示 | OK |
| E2E-CV-003 | 行番号付与（単一ファイル） | サーバー起動済み | 1. コードファイルを選択 2. 変換ボタン押下 | 行番号付きで表示、ステータス「変換済み」 | OK |
| E2E-CV-004 | 行番号付与（複数ファイル） | サーバー起動済み | 1. 複数コードファイルを選択 2. 変換ボタン押下 | 各ファイルが見出し付きで連結表示 | OK |
| E2E-CV-005 | 変換結果ダウンロード | 変換完了済み | ダウンロードボタン押下 | MDファイルがダウンロードされる | OK |
| E2E-CV-006 | メイン・種別変更時の再変換 | 設計書変換完了済み | メイン選択または種別を変更 | 変換結果がクリアされ「⚠️ メイン設計書が変更されました。再変換してください。」または「⚠️ 種別が変更されました。再変換してください。」が表示される | OK |
| E2E-CV-007 | ツール変更時の再変換 | 設計書変換完了済み | ファイルのツール選択を変更 | 変換結果がクリアされ「⚠️ ツールが変更されました。再変換してください。」が表示される | OK |
| E2E-CV-008 | 一括ツール設定 | 複数設計書選択済み | 一括設定ボタンを押下 | 全ファイルのツールが一括で変更される | OK |
| E2E-CV-009 | 利用可能ツール一覧取得 | サーバー起動済み | ページ読み込み | ツール選択ドロップダウンに利用可能なツールが表示される | OK |
| E2E-CV-010 | 種別に応じた注意事項付与 | 種別を「コーディング規約」に設定 | マークダウンに変換 | 変換結果に「注意事項: コードがこの規約に準拠しているかを確認してください」が含まれる | OK |

## 13.3.2 レビュー実行テスト

| # | 試験項目 | 前提条件 | 操作手順 | 期待結果 | 結果 |
|---|---------|---------|---------|---------|------|
| E2E-RV-001 | 単一ファイルレビュー | 設計書・コード各1ファイル変換済み | レビュー実行ボタン押下 | レビューレポートが表示される | OK |
| E2E-RV-002 | 複数ファイルレビュー | 設計書2ファイル、コード3ファイル変換済み | レビュー実行ボタン押下 | 全ファイルを対象としたレポートが表示 | OK |
| E2E-RV-003 | メイン設計書指定レビュー | 設計書にメイン/参照を設定 | レビュー実行ボタン押下 | 役割がレポートに反映 | OK |
| E2E-RV-004 | レポートコピー | レビュー完了済み | コピーボタン押下 | クリップボードにコピーされる | OK |
| E2E-RV-005 | レポートダウンロード | レビュー完了済み | ダウンロードボタン押下 | MDファイルがダウンロードされる | OK |
| E2E-RV-006 | 簡易判定表示 | レビュー完了済み | レビュー結果を確認 | 簡易判定セクションが表示される（問題あり:赤/確認が必要:黄/問題なし:緑、NG/要確認/OKの検出数表示） | OK |
| E2E-RV-007 | レビュー情報表示 | レビュー完了済み | レビュー結果を確認 | レビュー情報セクションにバージョン、モデルID、実行日時、入力/出力トークン数が表示される | OK |
| E2E-RV-008 | レポートヘッダ確認 | レビュー完了済み | ダウンロードしたMDファイルを確認 | 「設計書-Javaプログラム突合 AIレビュアー レビューレポート」タイトルとレビュー情報テーブルが含まれる | OK |
| E2E-RV-009 | レビュー実行データ一式ダウンロード | レビュー完了済み | 一式ダウンロードボタン押下 | YYYYMMDD-HHMM-NNN-review-data.zip がダウンロードされ、README.md, system-prompt.md, spec-markdown.md, code-numbered.txt, review-result.md が含まれる | OK |
| E2E-RV-010 | 一式ダウンロードのREADME確認 | レビュー完了済み | ZIPを展開しREADME.mdを確認 | レビュー情報（バージョン、モデルID、実行日時、トークン数）と同梱ファイル一覧が記載されている | OK |

## 13.3.3 エラーハンドリングテスト

| # | 試験項目 | 前提条件 | 操作手順 | 期待結果 | 結果 |
|---|---------|---------|---------|---------|------|
| E2E-ER-001 | ファイルサイズ超過（設計書） | - | 10MB超のExcelを選択、レビュー実行 | 「設計書 'ファイル名' のサイズが上限（10MB）を超えています」表示 | OK |
| E2E-ER-002 | ファイルサイズ超過（コード） | - | 5MB超のファイルを選択、レビュー実行 | 「プログラム 'ファイル名' のサイズが上限（5MB）を超えています」表示 | OK |
| E2E-ER-003 | コードファイル未指定 | 設計書のみ変換済み | レビュー実行ボタン押下 | 「コードファイルが指定されていません」表示 | OK |
| E2E-ER-004 | トークン数警告表示 | 大容量ファイル変換済み | トークン数表示を確認 | 100,000超で警告表示 | OK |
| E2E-ER-005 | トークン上限エラー | 本番環境 | 100,000トークン相当の大規模ファイルでレビュー実行 | トークン上限のエラーメッセージが表示される | OK |

## 13.3.4 バージョン切替テスト

| # | 試験項目 | 前提条件 | 操作手順 | 期待結果 | 結果 |
|---|---------|---------|---------|---------|------|
| E2E-VS-001 | バージョンボタン表示 | サーバー起動済み | ページにアクセス | 左上にピル型の「v0.6.0」ボタンが表示される | OK |
| E2E-VS-002 | バージョン切替 | v0.6.0表示中 | バルーンからv0.5.2をクリック | トースト表示後、ページリロード、v0.5.2のUIが表示される | OK |
| E2E-VS-003 | Cookie永続化確認 | E2E-VS-002完了 | ブラウザを閉じて再アクセス | v0.5.2が表示される（Cookieが保持されている） | OK |
| E2E-VS-004 | 無効なCookie時のフォールバック | - | DevToolsでCookieを「v9.9.9」に設定してアクセス | v0.6.0（デフォルト）が表示される | OK |

## 13.3.5 旧バージョン動作確認テスト

| # | 試験項目 | 前提条件 | 操作手順 | 期待結果 | 結果 |
|---|---------|---------|---------|---------|------|
| E2E-OLD-001 | v0.5.2 画面表示確認 | v0.5.2に切替済み | 画面を確認 | v0.5.2固有のUI（単一HTMLファイル版、設定ファイル機能あり、複数回実行あり）が表示される | OK |
| E2E-OLD-002 | v0.5.2 レビュー実行 | v0.5.2表示中、設計書・コード変換済み | レビュー実行ボタン押下 | レビューレポートが正常に表示される | OK |

## 13.3.6 設定ファイル管理テスト

| # | 試験項目 | 前提条件 | 操作手順 | 期待結果 | 結果 |
|---|---------|---------|---------|---------|------|
| E2E-CFG-001 | 設定ファイルアップロード | 設定モーダル表示中 | LLMとspecTypes両方を含むreviewer-config.mdをドラッグ&ドロップ | ファイル名と「・LLM設定を更新しました」「・設計書種別と注意事項を更新しました」が緑色で表示される | OK |
| E2E-CFG-002 | 空の設定ファイルアップロード | 設定モーダル表示中 | 内容のない（または無効な形式の）mdファイルをアップロード | 両方とも「更新されませんでした」がグレーで表示、既存設定は維持 | OK |
| E2E-CFG-003 | 設定のLocalStorage保存 | 設定ファイル読み込み済み | 「設定をブラウザに保存」ボタン押下 | トースト表示、LocalStorageに保存される | OK |
| E2E-CFG-004 | 設定の自動復元 | 設定保存済み | ブラウザをリロード | 保存した設定が自動で復元される | OK |
| E2E-CFG-005 | 保存した設定のクリア | 設定保存済み | 「保存した設定をクリア」ボタン押下 | 確認ダイアログ後、LocalStorageから削除、LLM設定は「システムデフォルト使用」表示に戻る | OK |
| E2E-CFG-006 | 設定未読込時のUI表示 | 設定ファイル未読込 | 設定モーダルのLLM設定セクションを確認 | 「LLM未設定のため、システムのデフォルトモデルを使用します」通知、プロバイダー「-」、モデル「システムのデフォルトモデルを使用」（選択不可） | OK |
| E2E-CFG-007 | モデル選択の記憶 | 設定ファイル読み込み済み、モデル一覧に複数モデルあり | デフォルト以外のモデルを選択後、ページをリロード | 選択したモデルが記憶されており、リロード後も同じモデルが選択されている | OK |
| E2E-CFG-008 | 接続テスト成功（設定読込済み） | 有効なAPIキー設定済み | 「接続テスト」ボタン押下 | POST /api/test-connectionが呼ばれ、「接続成功」が表示される | OK |
| E2E-CFG-009 | 接続テスト成功（設定未読込） | 設定ファイル未読込 | 「接続テスト」ボタン押下 | POST /api/test-connectionでシステムLLMで接続テスト実行、「接続成功」が表示される | OK |
| E2E-CFG-010 | 接続テスト失敗 | 無効なAPIキー設定 | 「接続テスト」ボタン押下 | エラーメッセージが表示される | OK |
| E2E-CFG-011 | 種別テーブル表示 | 設定ファイル読み込み済み | 設計書種別と注意事項テーブルを確認 | 設定ファイルのspecTypesが表形式で表示される | OK |
| E2E-CFG-012 | systemPromptsプリセット表示 | systemPromptsを含む設定ファイル読み込み済み | システムプロンプト設定セクションを確認 | 設定ファイルのsystemPromptsがプリセット一覧として表示される | OK |
| E2E-CFG-013 | systemPromptsプリセット適用 | E2E-CFG-012完了 | プリセットを選択 | role、purpose、format、notesが設定ファイルの内容で反映される | OK |
| E2E-CFG-014 | プリセット選択の記憶 | systemPromptsプリセット選択済み | ページをリロード | 前回選択したプリセットが自動で選択されている | OK |
| E2E-CFG-015 | 設定ファイルジェネレーターリンク | 設定モーダル表示中 | 「設定ファイルジェネレーターで作成」ボタンを確認・押下 | /config-file-generator/ に遷移する | OK |

## 13.3.7 LLMプロバイダー切替テスト

| # | 試験項目 | 前提条件 | 操作手順 | 期待結果 | 結果 |
|---|---------|---------|---------|---------|------|
| E2E-LLM-001 | システムLLMでのレビュー | 設定ファイル未読込 | レビュー実行 | システムLLM（Bedrock）でレビュー実行される | OK |
| E2E-LLM-002 | Anthropic APIでのレビュー | Anthropic設定済み | レビュー実行 | Anthropic APIでレビュー実行される | OK |
| E2E-LLM-003 | OpenAI APIでのレビュー | OpenAI設定済み | レビュー実行 | OpenAI APIでレビュー実行される | OK |
| E2E-LLM-004 | モデル情報の結果表示 | レビュー完了 | レビュー結果のレビュー情報を確認 | 使用したプロバイダーとモデルIDが表示される | OK |
| E2E-LLM-005 | APIキー未設定時のフォールバック | 設定ファイル読込済み、APIキー未入力 | レビュー実行 | システムLLMにフォールバックしてレビュー実行される | OK |
