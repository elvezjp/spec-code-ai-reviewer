# versions ディレクトリについて

## 概要

このディレクトリには、`spec-code-ai-reviewer` の各バージョンのスナップショットを保存します。
UI左上のバージョン切替ボタンから、過去バージョンのUI/挙動に切り替えてテストすることができます。

## ディレクトリ構成

```
versions/
├── v0.5.0/
├── v0.5.1/
├── v0.5.2/    # 最新版
└── README.md  # このファイル
```

## バージョン比較表

詳細な変更点は[更新履歴](#更新履歴)を確認してください。

| 機能 / バージョン | v0.1.1 | v0.2.5 | v0.3.0 | v0.4.0 | v0.5.0 | v0.5.1 | v0.5.2 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| リリース日 | 2025-12-15 | 2025-12-19 | 2025-12-21 | 2025-12-23 | 2025-12-28 | 2026-01-09 | 2026-01-13 |
| Excel変換ツール | MarkItDown固定 | MarkItDown固定 | MarkItDown / excel2md | MarkItDown / excel2md（CSV） / excel2md（CSV+Mermaid） | MarkItDown / excel2md（CSV） / excel2md（CSV+Mermaid） | MarkItDown / excel2md（CSV） / excel2md（CSV+Mermaid） | MarkItDown / excel2md（CSV） / excel2md（CSV+Mermaid） |
| 設計書設定 | なし | 優先度(メイン/参照)・種別 | 優先度・種別・ツール選択 | 優先度・種別・ツール選択（種別は設定ファイルで管理） | 優先度・種別・ツール選択（種別は設定ファイルで管理） | 優先度・種別・ツール選択（種別は設定ファイルで管理） | 優先度・種別・ツール選択（種別は設定ファイルで管理） |
| バージョン切替 | なし | なし | あり (画面左上で切替可) | あり | あり | あり | あり |
| 一括設定機能 | なし | なし | あり (ツールの全ファイル一括変更) | あり | あり | あり | あり |
| レビューレポート | 標準テキスト | 標準テキスト | 簡易判定（赤/黄/緑）、トークン情報 | 簡易判定、トークン情報、使用プロバイダー/モデル表示 | 簡易判定、トークン情報、使用プロバイダー/モデル表示 | 簡易判定、トークン情報、使用プロバイダー/モデル表示 | 簡易判定、トークン情報、使用プロバイダー/モデル表示 |
| トークン数表示 | なし | あり (推測) | あり (警告表示機能付き) | あり (警告表示機能付き) | あり (警告表示機能付き) | あり (警告表示機能付き) | あり (警告表示機能付き) |
| LLMプロバイダー | Bedrock固定 | Bedrock固定 | Bedrock固定 | Bedrock / Anthropic / OpenAI（設定ファイルで切替） | Bedrock / Anthropic / OpenAI（設定ファイルで切替） | Bedrock / Anthropic / OpenAI（設定ファイルで切替） | Bedrock / Anthropic / OpenAI（設定ファイルで切替） |
| 設定ファイル | なし | なし | なし | あり | あり | あり | あり |
| 複数回レビュー実行 | なし | なし | なし | なし | あり（2回直列実行、タブ切替表示） | あり（2回直列実行、タブ切替表示） | あり（2回直列実行、タブ切替表示） |
| 一式ダウンロード | なし | なし | なし | なし | あり（ZIP形式で入出力データ一括保存） | あり（ZIP形式で入出力データ一括保存） | あり（ZIP形式で入出力データ一括保存） |
| OpenAI GPT-5.2対応 | - | - | - | - | - | あり | あり |
| Bedrock Converse API | - | - | - | - | - | - | あり |
| Amazon Nova対応 | - | - | - | - | - | - | あり |


## 更新履歴

### v0.5.2 (2026-01-13)
- **Bedrock Converse API対応**: `invoke_model`から`converse`に移行し、Anthropic Claude系とAmazon Novaモデルの両方に対応
- **Amazon Novaモデル対応**: Nova Pro、Nova Microなどのモデルが利用可能に
- **プロバイダー設計の統一**: `get_system_llm_config()`関数を追加し、システムLLM設定の生成を`llm_service.py`に集約
- **設定ファイルジェネレーター改善**: Bedrock選択時にリージョンプレフィックスとトークン上限の注意事項を表示

### v0.5.1 (2026-01-09)
- **OpenAI GPT-5.2対応**: GPT-5.2系モデルで必要な`max_completion_tokens`パラメータに対応
- **OpenAI SDK更新**: `openai>=2.14.0` に依存バージョンを引き上げ
- **設定ファイルジェネレーター更新**: OpenAIモデル選択肢にGPT-5.2系を追加

### v0.5.0 (2025-12-28)
- **レビュー複数回実行**: 1回のボタン押下で2回のレビューを直列実行し、結果をタブ切り替えで表示
- **レビュー実行データ一式ダウンロード**: ZIP形式で入出力データ（システムプロンプト、設計書MD、コード、結果）を一括保存
- **ダウンロードファイル名の統一**: `spec-markdown.md`、`code-numbered.txt` に固定

### v0.4.0 (2025-12-23)
- **マルチLLMプロバイダー対応**: Bedrock / Anthropic / OpenAI を切り替えてレビュー実行が可能に（未指定時はBedrockにフォールバック）
- **設定ファイル導入**: `reviewer-config.md` でLLM設定（プロバイダー・認証・モデル一覧）と種別をMarkdownで管理
- **設定モーダル刷新**: 設定ファイルアップロード方式へ移行、モデル選択の記憶・保存/クリア、接続テスト（`/api/health`）機能追加
- **バックエンド拡張**: `llm_service`（抽象化）と `anthropic_service` / `openai_service` を追加
- **excel2md拡張**: CSV+Mermaid形式に対応（フローチャートをMermaid記法で追記）

### v0.3.0 (2025-12-21)
- **マルチ変換ツール対応**: MarkItDown（標準Markdown変換）/ excel2md（シート全体をCSVブロック変換）をファイルごとに選択可能
- **バージョン・スイッチャー追加**: UI左上のピル型ボタンで過去バージョンへ切替可能に
- **レポート機能強化**: 簡易判定セクション（赤/黄/緑）表示、トークン情報表示
- **バックエンド構造改善**: `markdown_tools` パッケージ導入、変換ツールをプラグイン的に拡張可能な構造へリファクタリング
- **一括設定機能**: ツールの全ファイル一括変更が可能に

### v0.2.5 (2025-12-19)
- **優先度・種別設定**: メイン設計書/参照資料の優先度設定が可能に
- **UI改善**: ファイルごとのドロップダウンメニュー追加
- ※変換ツールはMarkItDown固定

### v0.1.1 (2025-12-15)
- **初期リリース（MVP）**: 基本的なファイル変換・レビュー機能を実装
- ファイル選択→変換のシンプルなUI
- 優先度・種別設定なし、トークン数表示なし
